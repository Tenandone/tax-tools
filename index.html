<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="format-detection" content="telephone=no" />

  <title>부가세계산기(10%) · 전세/월세 비교 계산기 | 실무 팁 + FAQ</title>
  <meta name="description" content="부가세 10% 고정 계산기(별도↔포함) + 전세/월세 비교(대출이자 포함) + 입력 금액 한글 단위 표시 + 실무에서 손해를 줄이는 팁/FAQ" />

  <!-- 실제 도메인으로 교체하세요 -->
  <link rel="canonical" href="https://YOUR-DOMAIN.COM/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="부가세계산기(10%) · 전세/월세 비교 계산기 | 실무 팁 + FAQ" />
  <meta property="og:description" content="별도/포함 즉시 계산 + 전세·월세 월비용 비교 + 실무 팁/FAQ로 실수 방지" />
  <meta property="og:url" content="https://YOUR-DOMAIN.COM/" />

  <!-- FAQ 구조화 데이터 -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {
        "@type":"Question",
        "name":"부가세 포함가만 알 때 공급가(별도)는 어떻게 구하나요?",
        "acceptedAnswer":{
          "@type":"Answer",
          "text":"부가세 10% 기준이면 공급가(별도)=총액(포함)÷1.1, 부가세=총액-공급가 입니다."
        }
      },
      {
        "@type":"Question",
        "name":"부가세 별도(공급가)만 알 때 총액(포함)은 어떻게 구하나요?",
        "acceptedAnswer":{
          "@type":"Answer",
          "text":"부가세 10% 기준이면 총액(포함)=공급가×1.1, 부가세=공급가×0.1 입니다."
        }
      },
      {
        "@type":"Question",
        "name":"전세 vs 월세 비교는 어떤 기준으로 하나요?",
        "acceptedAnswer":{
          "@type":"Answer",
          "text":"이 페이지는 ‘매달 실제로 지출되는 비용’ 기준으로 비교합니다. 전세는 전세대출 이자(월), 월세는 월세 + 보증금대출 이자(월)의 합으로 계산합니다."
        }
      }
    ]
  }
  </script>

  <style>
    :root{
      --bg:#f6f8fc;
      --panel:#ffffff;
      --panel2:#f7f9ff;
      --line:#e7ecf5;
      --txt:#111827;
      --mut:#6b7280;
      --brand:#2563eb;
      --radius:18px;
      --shadow: 0 14px 34px rgba(16,24,40,.08);
      --danger:#b91c1c;
      --ok:#15803d;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 700px at 15% 0%, rgba(37,99,235,.10), transparent 55%),
        radial-gradient(900px 600px at 90% 10%, rgba(37,99,235,.08), transparent 50%),
        var(--bg);
    }
    .wrap{ max-width:1020px; margin:0 auto; padding:20px 16px 42px; }

    header{
      padding:14px 14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.78);
      backdrop-filter: blur(8px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .brand{ display:flex; align-items:center; gap:10px; }
    .logo{
      width:40px; height:40px; border-radius:12px;
      background: linear-gradient(135deg, var(--brand), #60a5fa);
      display:grid; place-items:center;
      color:#fff; font-weight:900;
      box-shadow: 0 10px 22px rgba(37,99,235,.25);
      user-select:none;
      flex:0 0 auto;
    }
    .t1{ font-weight:900; letter-spacing:-.2px; }
    .t2{ margin-top:2px; font-size:12px; color:var(--mut); }

    .tabs{
      display:flex; gap:8px; flex-wrap:wrap;
      align-items:center;
    }
    .tabBtn{
      border:1px solid var(--line);
      background:#fff;
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      font-size:12px;
      white-space:nowrap;
    }
    .tabBtn.active{
      border-color: rgba(37,99,235,.35);
      background: rgba(37,99,235,.08);
      color:#1d4ed8;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
      margin-top:14px;
    }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: var(--panel);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardHead{
      padding:14px 16px;
      border-bottom:1px solid var(--line);
      background: linear-gradient(180deg, #ffffff, #fbfcff);
    }
    .cardHead h1{ margin:0; font-size:18px; font-weight:900; letter-spacing:-.2px; }
    .cardHead .sub{ margin-top:6px; font-size:13px; color:var(--mut); line-height:1.55; }
    .cardBody{ padding:16px; }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 900px){
      .row{ grid-template-columns: 1fr; }
    }

    label{ display:block; font-size:12px; color:var(--mut); margin:10px 0 6px; }

    .field{
      display:flex;
      align-items:stretch;
      gap:10px;
    }
    .inp{
      width:100%;
      padding:14px 12px;
      border:1px solid var(--line);
      border-radius: 14px;
      font-size:16px;
      outline:none;
      background:#fff;
    }
    .inp:focus{
      border-color: rgba(37,99,235,.45);
      box-shadow: 0 0 0 4px rgba(37,99,235,.12);
    }
    .krHint{
      min-width: 190px;
      max-width: 260px;
      padding:12px 12px;
      border:1px solid var(--line);
      border-radius: 14px;
      background: #fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:12px;
      color:var(--mut);
      line-height:1.35;
      text-align:center;
      user-select:none;
    }
    @media (max-width: 520px){
      .field{ flex-direction:column; }
      .krHint{ min-width: 100%; max-width: 100%; }
    }

    .hint{
      margin-top:8px;
      color:var(--mut);
      font-size:12px;
      line-height:1.65;
    }
    .hint b{ color:#111827; }
    .hint .ex{
      margin-top:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:14px;
      background: var(--panel2);
      color:#111827;
      line-height:1.6;
      font-size:12px;
    }

    .btnRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .btn{
      padding:12px 14px;
      border-radius: 14px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      font-weight:900;
      font-size:13px;
    }
    .btn.primary{
      border-color: rgba(37,99,235,.35);
      background: rgba(37,99,235,.08);
      color:#1d4ed8;
    }
    .btn.danger{
      border-color: rgba(220,38,38,.25);
      background: rgba(220,38,38,.06);
      color: var(--danger);
    }

    .result{
      margin-top:12px;
      border:1px solid var(--line);
      background: var(--panel2);
      border-radius: 16px;
      padding:14px;
    }
    .kv{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 0;
      border-bottom:1px solid var(--line);
    }
    .kv:last-child{ border-bottom:none; }
    .k{ color:var(--mut); font-size:13px; }
    .v{ font-size:18px; font-weight:900; letter-spacing:-.3px; }

    .mini{
      margin-top:12px;
      padding:10px 12px;
      border-radius: 14px;
      border:1px dashed rgba(37,99,235,.35);
      background: rgba(37,99,235,.05);
      font-size:12px;
      color:#1f2937;
      line-height:1.75;
    }
    .mini b{ color:#111827; }

    .modeWrap{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-bottom:12px;
    }
    @media (max-width: 640px){
      .modeWrap{ grid-template-columns: 1fr; }
    }
    .mode{
      border:1px solid var(--line);
      border-radius: 16px;
      background:#fff;
      padding:12px 12px;
      cursor:pointer;
      user-select:none;
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .mode input{ margin-top:3px; }
    .modeTitle{ font-weight:900; letter-spacing:-.2px; font-size:14px; margin:0; }
    .modeDesc{ margin-top:6px; color:var(--mut); font-size:12px; line-height:1.5; }
    .mode.active{
      border-color: rgba(37,99,235,.35);
      background: rgba(37,99,235,.06);
    }

    .toggleRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .toggle{
      display:flex; align-items:center; gap:8px;
      border:1px solid var(--line);
      border-radius: 999px;
      padding:10px 12px;
      background:#fff;
      cursor:pointer;
      user-select:none;
      font-size:13px;
      font-weight:900;
    }
    .toggle input{ margin:0; }

    .hidden{ display:none !important; }

    .interpret{
      margin-top:12px;
      border:1px solid var(--line);
      background:#fff;
      border-radius: 16px;
      padding:12px 12px;
      line-height:1.75;
      font-size:13px;
      color:#111827;
    }
    .tag{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      font-weight:900;
      font-size:12px;
      border:1px solid var(--line);
      background:#fff;
      margin-right:6px;
    }
    .tag.ok{ border-color: rgba(21,128,61,.25); background: rgba(21,128,61,.06); color: var(--ok); }
    .tag.bad{ border-color: rgba(185,28,28,.25); background: rgba(185,28,28,.06); color: var(--danger); }

    /* 콘텐츠 UI */
    .contentBox{
      margin-top:14px;
      border:1px solid var(--line);
      border-radius:16px;
      background:#fff;
      padding:14px;
    }
    .contentBox h2{
      margin:0 0 8px 0;
      font-size:15px;
      font-weight:900;
      letter-spacing:-.2px;
    }
    .bul{
      margin:8px 0 0 0;
      padding-left:16px;
      color:#111827;
      line-height:1.75;
      font-size:13px;
    }
    .bul li{ margin:6px 0; }
    details{
      border:1px solid var(--line);
      border-radius:14px;
      padding:10px 12px;
      background: var(--panel2);
      margin-top:10px;
    }
    summary{
      cursor:pointer;
      font-weight:900;
      font-size:13px;
    }
    .smallTable{
      width:100%;
      border-collapse:collapse;
      margin-top:10px;
      font-size:13px;
    }
    .smallTable th,.smallTable td{
      border:1px solid var(--line);
      padding:10px;
      text-align:left;
      vertical-align:top;
    }
    .smallTable th{
      background:#fff;
      color:#111827;
      font-weight:900;
      width:28%;
    }

    footer{
      margin-top:14px;
      padding:14px 16px;
      color: var(--mut);
      font-size:12px;
      line-height:1.7;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">₩</div>
        <div>
          <div class="t1">실무 계산기</div>
          <div class="t2">부가세 10% 고정 · 전세/월세 비교(대출이자 기준)</div>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="계산기 선택">
        <button class="tabBtn active" id="tabVat" type="button" role="tab" aria-selected="true">부가세계산기</button>
        <button class="tabBtn" id="tabRent" type="button" role="tab" aria-selected="false">전세 vs 월세</button>
      </div>
    </header>

    <div class="grid">
      <!-- =========================
           1) VAT 계산기
           ========================= -->
      <section class="card" id="panelVat" role="tabpanel" aria-labelledby="tabVat">
        <div class="cardHead">
          <h1>부가세계산기</h1>
          <div class="sub">
            본 계산기는 <b>부가세 10%</b>를 기준으로,
            <b>입력하신 금액 1개</b>만으로 나머지 금액을 자동 산출합니다.
            <br/>아래에서 “해당 금액이 <b>부가세 별도(공급가)</b>인지, <b>부가세 포함(총액)</b>인지”만 선택해 주시면 됩니다.
          </div>
        </div>

        <div class="cardBody">
          <div class="modeWrap">
            <label class="mode active" id="vatModeA">
              <input type="radio" name="vatMode" value="fromSupply" checked />
              <div>
                <div class="modeTitle">부가세 별도(공급가)만 알고 계신 경우</div>
                <div class="modeDesc">
                  견적서/거래명세서에 “<b>공급가</b>”만 표기된 경우 선택해 주세요.<br/>
                  입력 즉시 <b>부가세</b>와 <b>총액(부가세 포함)</b>을 함께 안내합니다.
                </div>
              </div>
            </label>

            <label class="mode" id="vatModeB">
              <input type="radio" name="vatMode" value="fromTotal" />
              <div>
                <div class="modeTitle">부가세 포함가(총액)만 알고 계신 경우</div>
                <div class="modeDesc">
                  카드전표/영수증처럼 “<b>총액</b>”만 있는 경우 선택해 주세요.<br/>
                  입력 즉시 <b>공급가</b>와 <b>부가세</b>를 역산해 안내합니다.
                </div>
              </div>
            </label>
          </div>

          <label id="vatInputLabel" for="vatAmount">부가세 별도(공급가) 입력</label>
          <div class="field">
            <input class="inp" id="vatAmount" inputmode="numeric" placeholder="예: 1,000,000" />
            <div class="krHint" id="kr_vatAmount">-</div>
          </div>

          <div class="hint">
            <b>오른쪽 한글 표시는 자리수 확인용입니다.</b>
            예를 들어 2,000,000을 입력하시면 “200만 원”처럼 표시되어, 입력 값이 의도한 금액인지 즉시 확인하실 수 있습니다.
            <div class="ex">
              예시) 공급가 1,000,000원 → 부가세 100,000원 → 총액 1,100,000원
            </div>
          </div>

          <div class="btnRow">
            <button class="btn primary" id="vatBtnCalc" type="button">계산</button>
            <button class="btn danger" id="vatBtnReset" type="button">초기화</button>
          </div>

          <div class="result">
            <div class="kv">
              <div class="k">부가세 별도(공급가)</div>
              <div class="v" id="vatOutSupply">-</div>
            </div>
            <div class="kv">
              <div class="k">부가세(10%)</div>
              <div class="v" id="vatOutVat">-</div>
            </div>
            <div class="kv">
              <div class="k">부가세 포함가(총액)</div>
              <div class="v" id="vatOutTotal">-</div>
            </div>

            <div class="mini">
              <b>결과 해석 안내</b><br/>
              · “총액(부가세 포함)”은 실제 결제/청구되는 최종 금액입니다.<br/>
              · “공급가(부가세 별도)”는 부가세를 제외한 상품/서비스의 가격입니다.<br/>
              · “부가세(10%)”는 공급가를 기준으로 산출됩니다.
            </div>
          </div>

          <!-- ✅ 콘텐츠: 실무 팁 + 신고 구조 + FAQ -->
          <div class="contentBox" id="vatTips">
            <h2>실무에서 자주 쓰는 핵심 정리 (짧고 명확)</h2>
            <ul class="bul">
              <li><b>포함가 → 별도</b> : 총액 ÷ 1.1 (부가세 10% 기준)</li>
              <li><b>별도 → 포함가</b> : 공급가 × 1.1</li>
              <li><b>인터넷 구매 전</b> “<b>세금계산서</b> 또는 <b>사업자 현금영수증</b> 발행 가능 여부”를 확인하시면 불필요한 손해를 크게 줄일 수 있습니다.</li>
            </ul>

            <div class="mini" style="margin-top:12px;">
              <b>사업자/법인 구매 체크리스트 (결제 전 10초)</b><br/>
              1) 판매자 유형: 일반과세자 / 간이과세자<br/>
              2) 증빙: 세금계산서 가능 여부(불가 시, 사업자 현금영수증/카드전표 가능 여부)<br/>
              3) 고액/정기 구매: “증빙 발행 가능 여부”를 메시지/메일로 남겨두면 안전합니다.
            </div>

            <details>
              <summary>중요) 간이과세자에게 구매할 때 왜 주의해야 하나요?</summary>
              <div class="hint">
                거래 구조에 따라 <b>세금계산서 발급이 제한</b>되거나, 증빙 형태에 따라 <b>매입세액 공제</b> 측면에서 불리해질 수 있습니다.
                따라서 고액 또는 정기 구매 건은 결제 전에 “어떤 증빙이 발행되는지”를 먼저 확인하시는 것이 안전합니다.<br/><br/>
                ※ 실제 공제 가능 여부는 업종/거래 형태/증빙에 따라 달라질 수 있으므로, 필요 시 세무 전문가와 함께 확인하시기 바랍니다.
              </div>
            </details>

            <h2 style="margin-top:14px;">부가세 신고/납부 구조(기본)</h2>
            <div class="hint" style="margin-top:6px;">
              아래 내용은 “기본 구조”를 이해하기 위한 요약입니다. 실제 신고 기한은 공휴일/주말에 따라 조정될 수 있습니다.
            </div>
            <table class="smallTable" aria-label="부가세 신고 구조">
              <tr>
                <th>제1기 확정</th>
                <td>과세기간 1/1~6/30 → 통상 7월 중 신고·납부</td>
              </tr>
              <tr>
                <th>제2기 확정</th>
                <td>과세기간 7/1~12/31 → 통상 다음 해 1월 중 신고·납부</td>
              </tr>
              <tr>
                <th>예정(해당 시)</th>
                <td>유형에 따라 중간 납부/고지가 적용될 수 있습니다.</td>
              </tr>
            </table>

            <details>
              <summary>FAQ) “부가세 포함가”만 있는데, 공급가/부가세를 나눠야 합니다</summary>
              <div class="hint">
                포함가(총액)가 1,100,000원이라면<br/>
                · 공급가(별도) = 1,100,000 ÷ 1.1 = 1,000,000원<br/>
                · 부가세 = 1,100,000 - 1,000,000 = 100,000원<br/>
                본 페이지의 “부가세 포함가(총액)만 알고 계신 경우”를 선택하시면 자동으로 계산됩니다.
              </div>
            </details>

            <details>
              <summary>FAQ) 부가세 10%는 항상 동일하게 적용되나요?</summary>
              <div class="hint">
                본 계산기는 <b>현행 일반 세율(10%)</b> 기준의 실무 계산에 초점을 맞추었습니다.
                예외 적용(영세율, 면세 등)은 거래 성격에 따라 달라질 수 있습니다.
              </div>
            </details>

            <div class="hint" style="margin-top:10px;">
              ※ 안내: 본 페이지는 <b>정보 제공 및 계산 편의</b> 목적입니다. 실제 세무 처리/공제 여부는 거래 증빙 및 사업자 유형에 따라 달라질 수 있습니다.
            </div>
          </div>
        </div>
      </section>

      <!-- =========================
           2) 전세 vs 월세 비교 계산기
           ========================= -->
      <section class="card hidden" id="panelRent" role="tabpanel" aria-labelledby="tabRent">
        <div class="cardHead">
          <h1>전세 vs 월세 비교 계산기</h1>
          <div class="sub">
            본 계산기는 “<b>월 현금 지출</b>” 관점으로 비교합니다.
            <br/>전세는 <b>전세대출 이자(월)</b>, 월세는 <b>월세 + 보증금대출 이자(월)</b> 합계로 산출됩니다.
          </div>
        </div>

        <div class="cardBody">
          <div class="row">
            <!-- 전세 -->
            <div class="card" style="box-shadow:none; margin:0; border-radius:16px;">
              <div class="cardHead" style="border-radius:0; border-bottom:1px solid var(--line);">
                <h1 style="font-size:16px;">전세</h1>
                <div class="sub">
                  전세대출을 이용하신 경우, 매달 부담은 보통 <b>이자</b>에서 발생합니다.
                  <br/>따라서 “전세 월 비용 = 전세대출 이자(월)”로 계산합니다.
                </div>
              </div>
              <div class="cardBody">
                <label for="jLoan">전세 대출금액(원)</label>
                <div class="field">
                  <input class="inp" id="jLoan" inputmode="numeric" placeholder="예: 200,000,000" />
                  <div class="krHint" id="kr_jLoan">-</div>
                </div>

                <label for="jRate">전세 대출 금리(연 %)</label>
                <div class="field">
                  <input class="inp" id="jRate" inputmode="decimal" placeholder="예: 4.2" />
                  <div class="krHint" id="kr_jRate">연 - %</div>
                </div>

                <div class="hint">
                  <b>계산 범위</b>: 전세대출 <b>이자</b>만 월 비용으로 산출합니다.<br/>
                  <span style="color:var(--mut);">※ 전세금 기회비용/관리비/세금/이사비 등은 본 비교에서 제외됩니다.</span>
                </div>
              </div>
            </div>

            <!-- 월세 -->
            <div class="card" style="box-shadow:none; margin:0; border-radius:16px;">
              <div class="cardHead" style="border-radius:0; border-bottom:1px solid var(--line);">
                <h1 style="font-size:16px;">월세</h1>
                <div class="sub">
                  월세는 매달 <b>월세</b>가 지출되며,
                  보증금을 대출로 마련하신 경우 <b>보증금대출 이자</b>가 추가로 발생합니다.
                </div>
              </div>
              <div class="cardBody">
                <label for="wRent">월세 금액(원)</label>
                <div class="field">
                  <input class="inp" id="wRent" inputmode="numeric" placeholder="예: 800,000" />
                  <div class="krHint" id="kr_wRent">-</div>
                </div>

                <label for="wDeposit">보증금(원)</label>
                <div class="field">
                  <input class="inp" id="wDeposit" inputmode="numeric" placeholder="예: 20,000,000" />
                  <div class="krHint" id="kr_wDeposit">-</div>
                </div>

                <div class="toggleRow" role="group" aria-label="보증금대출 여부">
                  <label class="toggle">
                    <input type="radio" name="wHasLoan" value="no" checked />
                    보증금대출 없음
                  </label>
                  <label class="toggle">
                    <input type="radio" name="wHasLoan" value="yes" />
                    보증금대출 있음
                  </label>
                </div>

                <div id="wLoanBlock" class="hidden">
                  <label for="wLoan">보증금 대출금액(원)</label>
                  <div class="field">
                    <input class="inp" id="wLoan" inputmode="numeric" placeholder="예: 10,000,000" />
                    <div class="krHint" id="kr_wLoan">-</div>
                  </div>

                  <label for="wRate">보증금 대출 금리(연 %)</label>
                  <div class="field">
                    <input class="inp" id="wRate" inputmode="decimal" placeholder="예: 5.0" />
                    <div class="krHint" id="kr_wRate">연 - %</div>
                  </div>
                </div>

                <div class="hint">
                  <b>계산 범위</b>: 월세 + (보증금대출 이자)을 합산하여 월 비용으로 산출합니다.
                  <div class="ex">
                    예시) 월세 800,000원 + 보증금대출 이자 100,000원 → 월 비용 900,000원
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="btnRow">
            <button class="btn primary" id="rentBtnCalc" type="button">계산</button>
            <button class="btn danger" id="rentBtnReset" type="button">초기화</button>
          </div>

          <div class="result">
            <div class="kv">
              <div class="k">전세 월 비용(전세대출 이자)</div>
              <div class="v" id="rentOutJeonse">-</div>
            </div>
            <div class="kv">
              <div class="k">월세 월 비용(월세 + 보증금대출 이자)</div>
              <div class="v" id="rentOutWolse">-</div>
            </div>
            <div class="kv">
              <div class="k">차이(월세 - 전세)</div>
              <div class="v" id="rentOutDiff">-</div>
            </div>

            <div class="mini" id="rentExplain">
              <b>결과 해석 안내</b><br/>
              · 차이가 <b>+</b>이면: 월세가 전세보다 매달 더 많은 비용이 발생합니다.<br/>
              · 차이가 <b>-</b>이면: 월세가 전세보다 매달 더 적은 비용이 발생합니다.<br/>
              <span style="color:var(--mut);">※ 본 비교는 요청 기준(대출이자 + 월세)만 반영합니다.</span>
            </div>
          </div>

          <div class="interpret" id="rentInterpret">
            <span class="tag">해석</span>
            값을 입력하시면 “현재 입력 기준으로 월 비용 차이”를 문장으로 안내해 드립니다.
          </div>

          <div class="contentBox">
            <h2>전세/월세 실무 포인트 (짧게 정리)</h2>
            <ul class="bul">
              <li>본 비교는 “<b>월 현금흐름</b>” 관점으로, 월 이자/월세 합만 반영합니다.</li>
              <li>보증금을 대출로 마련하시면 월세의 월 비용이 예상보다 크게 증가할 수 있습니다.</li>
              <li>전세대출 금리가 높을 경우, 전세의 월 비용이 월세와 유사하게 나타날 수 있습니다.</li>
            </ul>
          </div>
        </div>
      </section>

      <footer>
        © <span id="year"></span> 실무 계산기 · 브라우저에서만 동작합니다(서버 불필요)<br/>
        안내: 본 페이지는 계산 편의 목적이며, 실제 세무/계약 판단은 개인 상황에 따라 달라질 수 있습니다.
      </footer>
    </div>
  </div>

  <script>
    function toNumber(input) {
      const s = String(input ?? "").replace(/[^\d.]/g, "");
      if (!s) return null;
      const n = Number(s);
      return Number.isFinite(n) ? n : null;
    }

    function fmtWon(n) {
      if (n === null || n === undefined) return "-";
      const v = Number(n);
      if (!Number.isFinite(v) || v === 0) return "-";
      return Math.round(v).toLocaleString("ko-KR") + "원";
    }

    function fmtWonSigned(n) {
      if (n === null || n === undefined) return "-";
      const v = Number(n);
      if (!Number.isFinite(v) || v === 0) return "-";
      const sign = v > 0 ? "+" : "";
      return sign + Math.round(v).toLocaleString("ko-KR") + "원";
    }

    function formatKoreanAmount(num) {
      if (num === null || num === undefined) return "-";
      const n = Math.floor(Number(num));
      if (!Number.isFinite(n) || n <= 0) return "-";
      if (n < 10000) return n.toLocaleString("ko-KR") + "원";

      const units = [
        { v: 1000000000000, t: "조" },
        { v: 100000000,     t: "억" },
        { v: 10000,         t: "만" }
      ];

      let rest = n;
      let out = "";
      for (const u of units) {
        const q = Math.floor(rest / u.v);
        if (q > 0) {
          out += q.toLocaleString("ko-KR") + u.t;
          rest = rest % u.v;
        }
      }
      return out + "원";
    }

    function formatRateHint(rate) {
      if (rate === null || rate === undefined) return "연 - %";
      const v = Number(rate);
      if (!Number.isFinite(v) || v <= 0) return "연 - %";
      return "연 " + v.toString() + " %";
    }

    const tabVat = document.getElementById("tabVat");
    const tabRent = document.getElementById("tabRent");
    const panelVat = document.getElementById("panelVat");
    const panelRent = document.getElementById("panelRent");

    function showTab(which) {
      const isVat = which === "vat";
      tabVat.classList.toggle("active", isVat);
      tabRent.classList.toggle("active", !isVat);
      tabVat.setAttribute("aria-selected", String(isVat));
      tabRent.setAttribute("aria-selected", String(!isVat));
      panelVat.classList.toggle("hidden", !isVat);
      panelRent.classList.toggle("hidden", isVat);
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
    tabVat.addEventListener("click", () => showTab("vat"));
    tabRent.addEventListener("click", () => showTab("rent"));

    function bindKoreanHint(inputId, hintId, kind) {
      const inp = document.getElementById(inputId);
      const hint = document.getElementById(hintId);
      if (!inp || !hint) return;

      function render() {
        const v = toNumber(inp.value);
        if (kind === "rate") {
          hint.textContent = formatRateHint(v);
          return;
        }
        hint.textContent = formatKoreanAmount(v);
      }

      inp.addEventListener("input", render);
      render();
    }

    bindKoreanHint("vatAmount", "kr_vatAmount", "money");
    bindKoreanHint("jLoan", "kr_jLoan", "money");
    bindKoreanHint("jRate", "kr_jRate", "rate");
    bindKoreanHint("wRent", "kr_wRent", "money");
    bindKoreanHint("wDeposit", "kr_wDeposit", "money");
    bindKoreanHint("wLoan", "kr_wLoan", "money");
    bindKoreanHint("wRate", "kr_wRate", "rate");

    const VAT_RATE = 0.10;

    const vatEls = {
      modeA: document.getElementById("vatModeA"),
      modeB: document.getElementById("vatModeB"),
      inputLabel: document.getElementById("vatInputLabel"),
      amount: document.getElementById("vatAmount"),
      outSupply: document.getElementById("vatOutSupply"),
      outVat: document.getElementById("vatOutVat"),
      outTotal: document.getElementById("vatOutTotal"),
      btnCalc: document.getElementById("vatBtnCalc"),
      btnReset: document.getElementById("vatBtnReset")
    };

    function vatGetMode() {
      const checked = document.querySelector('input[name="vatMode"]:checked');
      return checked ? checked.value : "fromSupply";
    }

    function vatSetModeUI() {
      const mode = vatGetMode();
      vatEls.modeA.classList.toggle("active", mode === "fromSupply");
      vatEls.modeB.classList.toggle("active", mode === "fromTotal");

      if (mode === "fromSupply") {
        vatEls.inputLabel.textContent = "부가세 별도(공급가) 입력";
        vatEls.amount.placeholder = "예: 1,000,000";
      } else {
        vatEls.inputLabel.textContent = "부가세 포함가(총액) 입력";
        vatEls.amount.placeholder = "예: 1,100,000";
      }
    }

    function vatRenderEmpty() {
      vatEls.outSupply.textContent = "-";
      vatEls.outVat.textContent = "-";
      vatEls.outTotal.textContent = "-";
    }

    function vatCalc() {
      const mode = vatGetMode();
      const input = toNumber(vatEls.amount.value);

      if (input === null || input === 0) {
        vatRenderEmpty();
        return;
      }

      let supply = 0, vat = 0, total = 0;

      if (mode === "fromSupply") {
        supply = input;
        vat = supply * VAT_RATE;
        total = supply + vat;
      } else {
        total = input;
        supply = total / (1 + VAT_RATE);
        vat = total - supply;
      }

      vatEls.outSupply.textContent = fmtWon(supply);
      vatEls.outVat.textContent = fmtWon(vat);
      vatEls.outTotal.textContent = fmtWon(total);
    }

    function vatReset() {
      document.querySelector('input[name="vatMode"][value="fromSupply"]').checked = true;
      vatEls.amount.value = "";
      vatSetModeUI();
      vatRenderEmpty();
      document.getElementById("kr_vatAmount").textContent = "-";
      vatEls.amount.focus();
    }

    document.querySelectorAll('input[name="vatMode"]').forEach(r => {
      r.addEventListener("change", () => { vatSetModeUI(); vatCalc(); });
    });
    vatEls.btnCalc.addEventListener("click", vatCalc);
    vatEls.btnReset.addEventListener("click", vatReset);
    vatEls.amount.addEventListener("keydown", (e) => { if (e.key === "Enter") vatCalc(); });
    vatEls.amount.addEventListener("input", vatCalc);

    const rentEls = {
      jLoan: document.getElementById("jLoan"),
      jRate: document.getElementById("jRate"),
      wRent: document.getElementById("wRent"),
      wDeposit: document.getElementById("wDeposit"),
      wLoanBlock: document.getElementById("wLoanBlock"),
      wLoan: document.getElementById("wLoan"),
      wRate: document.getElementById("wRate"),
      outJeonse: document.getElementById("rentOutJeonse"),
      outWolse: document.getElementById("rentOutWolse"),
      outDiff: document.getElementById("rentOutDiff"),
      interpret: document.getElementById("rentInterpret"),
      btnCalc: document.getElementById("rentBtnCalc"),
      btnReset: document.getElementById("rentBtnReset")
    };

    function rentHasLoan() {
      const checked = document.querySelector('input[name="wHasLoan"]:checked');
      return checked ? checked.value === "yes" : false;
    }

    function rentSetLoanUI() {
      rentEls.wLoanBlock.classList.toggle("hidden", !rentHasLoan());
    }

    function rentInterpretText(jeonseMonthly, wolseMonthly) {
      if ((!jeonseMonthly || jeonseMonthly <= 0) && (!wolseMonthly || wolseMonthly <= 0)) {
        return `<span class="tag">해석</span> 값을 입력하시면 “현재 입력 기준으로 월 비용 차이”를 문장으로 안내해 드립니다.`;
      }

      const diff = wolseMonthly - jeonseMonthly;

      let base =
        `<span class="tag">해석</span> ` +
        `현재 입력 기준으로 전세는 매달 <b>${fmtWon(jeonseMonthly)}</b>(대출이자), ` +
        `월세는 매달 <b>${fmtWon(wolseMonthly)}</b>(월세 + 보증금대출이자)로 계산됩니다.<br/>`;

      if (diff > 0) {
        base += `<span class="tag bad">결론</span> 월세가 전세보다 매달 <b>${fmtWon(diff)}</b> 더 많이 발생합니다.`;
      } else if (diff < 0) {
        base += `<span class="tag ok">결론</span> 월세가 전세보다 매달 <b>${fmtWon(Math.abs(diff))}</b> 더 적게 발생합니다.`;
      } else {
        base += `<span class="tag">결론</span> 두 방식의 월 비용이 거의 동일합니다.`;
      }

      base += `<div style="margin-top:8px; color:var(--mut); font-size:12px; line-height:1.7;">
        ※ 본 비교는 “요청 기준(대출이자 + 월세)”만 반영합니다. 전세금 기회비용, 관리비, 세금, 이사비 등은 별도 변수입니다.
      </div>`;
      return base;
    }

    function rentCalc() {
      const jLoan = toNumber(rentEls.jLoan.value) || 0;
      const jRate = toNumber(rentEls.jRate.value) || 0;
      const jeonseMonthly = (jLoan * (jRate/100)) / 12;

      const wRent = toNumber(rentEls.wRent.value) || 0;

      let wolseMonthly = wRent;
      if (rentHasLoan()) {
        const wLoan = toNumber(rentEls.wLoan.value) || 0;
        const wRate = toNumber(rentEls.wRate.value) || 0;
        const wLoanMonthly = (wLoan * (wRate/100)) / 12;
        wolseMonthly += wLoanMonthly;
      }

      rentEls.outJeonse.textContent = fmtWon(jeonseMonthly);
      rentEls.outWolse.textContent = fmtWon(wolseMonthly);

      const diff = wolseMonthly - jeonseMonthly;
      rentEls.outDiff.textContent = fmtWonSigned(diff);

      rentEls.interpret.innerHTML = rentInterpretText(jeonseMonthly, wolseMonthly);
    }

    function rentReset() {
      rentEls.jLoan.value = "";
      rentEls.jRate.value = "";
      rentEls.wRent.value = "";
      rentEls.wDeposit.value = "";
      document.querySelector('input[name="wHasLoan"][value="no"]').checked = true;
      rentEls.wLoan.value = "";
      rentEls.wRate.value = "";

      document.getElementById("kr_jLoan").textContent = "-";
      document.getElementById("kr_jRate").textContent = "연 - %";
      document.getElementById("kr_wRent").textContent = "-";
      document.getElementById("kr_wDeposit").textContent = "-";
      document.getElementById("kr_wLoan").textContent = "-";
      document.getElementById("kr_wRate").textContent = "연 - %";

      rentSetLoanUI();
      rentEls.outJeonse.textContent = "-";
      rentEls.outWolse.textContent = "-";
      rentEls.outDiff.textContent = "-";
      rentEls.interpret.innerHTML = `<span class="tag">해석</span> 값을 입력하시면 “현재 입력 기준으로 월 비용 차이”를 문장으로 안내해 드립니다.`;
      rentEls.jLoan.focus();
    }

    document.querySelectorAll('input[name="wHasLoan"]').forEach(r => {
      r.addEventListener("change", () => { rentSetLoanUI(); rentCalc(); });
    });
    rentEls.btnCalc.addEventListener("click", rentCalc);
    rentEls.btnReset.addEventListener("click", rentReset);

    ["jLoan","jRate","wRent","wDeposit","wLoan","wRate"].forEach(id => {
      const el = document.getElementById(id);
      if (!el) return;
      el.addEventListener("input", rentCalc);
      el.addEventListener("keydown", (e) => { if (e.key === "Enter") rentCalc(); });
    });

    document.getElementById("year").textContent = String(new Date().getFullYear());
    vatSetModeUI();
    vatRenderEmpty();
    rentSetLoanUI();
  </script>
</body>
</html>
